* { box-sizing: border-box; touch-action: none; user-select: none; -webkit-user-select: none; }
body { margin: 0; overflow: hidden; background: #000; font-family: 'Orbitron', sans-serif; }
canvas { display: block; position: absolute; top: 0; left: 0; }
.hidden { display: none !important; }

#ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; pointer-events: none; }

#radar-wrap {
    position: absolute; top: 15px; left: 15px; width: 150px; height: 150px;
    border-radius: 50%; background: rgba(0, 10, 5, 0.9);
    border: 2px solid #0f0; box-shadow: 0 0 15px #0f0; overflow: hidden; pointer-events: auto;
}
.radar-scan {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%;
    background: conic-gradient(from 0deg, transparent 0deg, rgba(0, 255, 0, 0.4) 360deg);
    animation: radar-spin 2s linear infinite;
}
@keyframes radar-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.hud-top-right { position: absolute; top: 15px; right: 15px; text-align: right; pointer-events: none; }
.text-neon { color: #fff; text-shadow: 0 0 5px #0ff; margin-bottom: 2px; font-weight: bold; }
.bar-container { width: 220px; height: 12px; background: rgba(50,50,50,0.7); border: 1px solid rgba(255,255,255,0.4); transform: skewX(-20deg); margin-bottom: 5px; position: relative; overflow: hidden; }
.xp-container { height: 6px; border-color: #aa8800; }
.bar-fill { height: 100%; transition: width 0.2s; }
#hp-bar { background: #ff3366; box-shadow: 0 0 10px #ff3366; }
#xp-bar { background: #ffcc00; box-shadow: 0 0 5px #ffcc00; }

#center-msg {
    position: absolute; top: 20%; left: 50%; transform: translate(-50%, -50%);
    font-size: 40px; font-weight: 900; color: #ffcc00;
    text-shadow: 0 0 20px #ffcc00, 0 0 40px red; opacity: 0; transition: opacity 0.5s, transform 0.5s; text-align: center;
}
#boss-warning {
    position: absolute; top: 10%; left: 50%; transform: translateX(-50%);
    font-size: 24px; color: #f00; font-weight: bold; text-shadow: 0 0 10px #f00;
    display: none; animation: blink 0.5s infinite;
}
@keyframes blink { 0% {opacity:1;} 50% {opacity:0;} 100% {opacity:1;} }

#freeze-fx { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0, 200, 255, 0.3); box-shadow: inset 0 0 100px #0ff; display: none; z-index: 5; }
#joystick-zone { position: absolute; bottom: 0; left: 0; width: 50%; height: 60%; pointer-events: auto; z-index: 20; }

.arc-menu { position: absolute; bottom: 0; right: 0; width: 250px; height: 250px; pointer-events: none; }
.skill-btn-wrap { position: absolute; display: flex; flex-direction: column; align-items: center; pointer-events: auto; }
.pos-1 { bottom: 20px; right: 180px; } 
.pos-2 { bottom: 70px; right: 140px; } 
.pos-3 { bottom: 120px; right: 85px; } 
.pos-4 { bottom: 150px; right: 20px; }
.skill-btn {
    width: 65px; height: 65px; border-radius: 50%; background: rgba(10, 20, 30, 0.95);
    border: 2px solid rgba(255,255,255,0.3); display: flex; justify-content: center; align-items: center;
    font-size: 26px; cursor: pointer; position: relative; overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.6); transition: transform 0.1s;
}
.skill-btn:active { transform: scale(0.9); }
.skill-btn.locked { filter: grayscale(1) brightness(0.4); opacity: 0.7; pointer-events: none; border-color: #444; }
.skill-cd { position: absolute; bottom: 0; left: 0; width: 100%; height: 0%; background: rgba(0,0,0,0.8); transition: height 0.1s linear; }
.skill-desc { font-size: 10px; color: #fff; text-shadow: 0 0 2px #000; margin-top: 4px; font-weight: bold; background: rgba(0,0,0,0.5); padding: 2px 5px; border-radius: 4px; }
.pos-1 .skill-btn { border-color: #00ffff; color: #00ffff; }
.pos-2 .skill-btn { border-color: #00ff00; color: #00ff00; }
.pos-3 .skill-btn { border-color: #ff0066; color: #ff0066; }
.pos-4 .skill-btn { border-color: #aa00ff; color: #aa00ff; }

.menu-screen {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 999;
    background: rgba(2, 2, 5, 0.95); display: flex; flex-direction: column; justify-content: center; align-items: center; pointer-events: auto;
}
h1 { font-size: 45px; color: #00ffcc; margin: 0 0 20px 0; text-shadow: 0 0 20px #00ffcc; text-align: center; }
p { color: #ccc; text-align: center; max-width: 500px; line-height: 1.6; margin-bottom: 30px; font-size: 14px; }
button {
    background: transparent; color: #00ffcc; padding: 15px 50px; border: 2px solid #00ffcc;
    font-size: 20px; font-family: 'Orbitron'; font-weight: bold; cursor: pointer;
    box-shadow: 0 0 15px rgba(0,255,204,0.3); transition: 0.2s;
}
button:hover { background: #00ffcc; color: #000; box-shadow: 0 0 40px #00ffcc; }
.stats-box { margin-bottom: 30px; border: 1px solid #333; padding: 20px; width: 300px; text-align: center; }